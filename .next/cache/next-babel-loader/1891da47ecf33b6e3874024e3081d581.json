{"ast":null,"code":"var _jsxFileName = \"/www/sites/firebreak-nextjs/src/pages/jobs/[id].tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../../layouts/default';\n\nconst Job = ({\n  title,\n  body,\n  sections\n}) => __jsx(Layout, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21\n  },\n  __self: this\n}, __jsx(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22\n  },\n  __self: this\n}, __jsx(\"h1\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23\n  },\n  __self: this\n}, title), body && __jsx(\"div\", {\n  dangerouslySetInnerHTML: {\n    __html: body === null || body === void 0 ? void 0 : body.value\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n}), sections.map(({\n  attributes\n}, key) => {\n  var _attributes$field_bod;\n\n  return __jsx(\"section\", {\n    key: key,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, attributes.field_title), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: (_attributes$field_bod = attributes.field_body) === null || _attributes$field_bod === void 0 ? void 0 : _attributes$field_bod.value\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }));\n})));\n\nJob.getInitialProps = async context => {\n  const {\n    id\n  } = context.query;\n  const response = await fetch(`http://127.0.0.1:8888/jsonapi/node/jobs/${id}`);\n  const {\n    data\n  } = await response.json();\n  const {\n    title,\n    body,\n    field_job_section\n  } = data.attributes;\n  const newResponse = await fetch(`http://127.0.0.1:8888/jsonapi/field_collection_item/field_job_section/`);\n  const {\n    data: sections\n  } = await newResponse.json();\n  return {\n    title,\n    body,\n    sections\n  };\n};\n\nexport default Job;","map":{"version":3,"sources":["/www/sites/firebreak-nextjs/src/pages/jobs/[id].tsx"],"names":["fetch","Layout","Job","title","body","sections","__html","value","map","attributes","key","field_title","field_body","getInitialProps","context","id","query","response","data","json","field_job_section","newResponse"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,OAAOC,MAAP,MAAmB,uBAAnB;;AAiBA,MAAMC,GAAG,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,IAAT;AAAeC,EAAAA;AAAf,CAAD,KACV,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAKF,KAAL,CADF,EAEGC,IAAI,IAAI;AAAK,EAAA,uBAAuB,EAAE;AAAEE,IAAAA,MAAM,EAAEF,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEG;AAAhB,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAFX,EAIIF,QAAQ,CAACG,GAAT,CAAa,CAAC;AAAEC,EAAAA;AAAF,CAAD,EAAiBC,GAAjB;AAAA;;AAAA,SACX;AAAS,IAAA,GAAG,EAAEA,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,UAAU,CAACE,WAAhB,CADF,EAEE;AAAK,IAAA,uBAAuB,EAAE;AAAEL,MAAAA,MAAM,2BAAEG,UAAU,CAACG,UAAb,0DAAE,sBAAuBL;AAAjC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADW;AAAA,CAAb,CAJJ,CADF,CADF;;AAiBAL,GAAG,CAACW,eAAJ,GAAsB,MAAOC,OAAP,IAAwB;AAC5C,QAAM;AAAEC,IAAAA;AAAF,MAASD,OAAO,CAACE,KAAvB;AACA,QAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAAE,2CAA0Ce,EAAG,EAA/C,CAA5B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAW,MAAMD,QAAQ,CAACE,IAAT,EAAvB;AACA,QAAM;AAAEhB,IAAAA,KAAF;AAASC,IAAAA,IAAT;AAAegB,IAAAA;AAAf,MAAqCF,IAAI,CAACT,UAAhD;AAEA,QAAMY,WAAW,GAAG,MAAMrB,KAAK,CAAE,wEAAF,CAA/B;AACA,QAAM;AAAEkB,IAAAA,IAAI,EAAEb;AAAR,MAAqB,MAAMgB,WAAW,CAACF,IAAZ,EAAjC;AAEA,SAAO;AAAEhB,IAAAA,KAAF;AAASC,IAAAA,IAAT;AAAeC,IAAAA;AAAf,GAAP;AACD,CAVD;;AAYA,eAAeH,GAAf","sourcesContent":["import fetch from 'isomorphic-unfetch'\n\nimport Layout from '../../layouts/default'\n\ntype JobProps = {\n  title: string,\n  body?: {\n    value: string\n  },\n  sections?: [{\n    attributes: {\n      field_title: string,\n      field_body: {\n        value: string\n      }\n    }\n  }]\n}\n\nconst Job = ({ title, body, sections }: JobProps) => (\n  <Layout>\n    <div>\n      <h1>{title}</h1>\n      {body && <div dangerouslySetInnerHTML={{ __html: body?.value }} />}\n      {\n        sections.map(({ attributes }, key) => (\n          <section key={key}>\n            <h2>{attributes.field_title}</h2>\n            <div dangerouslySetInnerHTML={{ __html: attributes.field_body?.value }} />\n          </section>\n        ))\n      }\n    </div>\n  </Layout>\n)\n\nJob.getInitialProps = async (context: any) => {\n  const { id } = context.query\n  const response = await fetch(`http://127.0.0.1:8888/jsonapi/node/jobs/${id}`)\n  const { data } = await response.json()\n  const { title, body, field_job_section } = data.attributes\n\n  const newResponse = await fetch(`http://127.0.0.1:8888/jsonapi/field_collection_item/field_job_section/`)\n  const { data: sections } = await newResponse.json()\n\n  return { title, body, sections }\n}\n\nexport default Job"]},"metadata":{},"sourceType":"module"}